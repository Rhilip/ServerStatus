webpackJsonp([1],{216:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(275),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=o.default},217:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(558),s=r(o),a=n(555),u=r(a),i=n(556),l=r(i),c=n(557),d=r(c),f=[{path:"/login",component:s.default,name:"",hidden:!0},{path:"/404",component:u.default,name:"",hidden:!0},{path:"/",component:l.default,name:"主页",iconCls:"fa fa-home",leaf:!0,redirect:"/index",children:[{path:"/index",component:d.default,name:"状态"}]},{path:"*",hidden:!0,redirect:{path:"/404"}}];t.default=f},218:function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(18),a=o(s),u=n(144),i=o(u),l=n(276),c=r(l),d=n(277),f=r(d);a.default.use(i.default);var p={count:10},m={INCREMENT:function(e){e.count++},DECREMENT:function(e){e.count--}};t.default=new i.default.Store({actions:c,getters:f,state:p,mutations:m})},221:function(e,t){},222:function(e,t){},223:function(e,t,n){n(542);var r=n(72)(n(268),n(559),null,null);e.exports=r.exports},268:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app",components:{}}},269:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{sysName:"Server Status",collapsed:!1,sysUserName:"",sysUserAvatar:"",form:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""}}},methods:{onSubmit:function(){console.log("submit!")},handleopen:function(){},handleclose:function(){},handleselect:function(e,t){},logout:function(){var e=this;this.$confirm("确认退出吗?","提示",{}).then(function(){sessionStorage.removeItem("user"),e.$router.push("/login")}).catch(function(){})},collapse:function(){this.collapsed=!this.collapsed},showMenu:function(e,t){this.$refs.menuCollapsed.getElementsByClassName("submenu-hook-"+e)[0].style.display=t?"block":"none"}},mounted:function(){var e=sessionStorage.getItem("user");e&&(e=JSON.parse(e),this.sysUserName=e.name||"",this.sysUserAvatar=e.avatar||"")}}},270:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(565),t.default={data:function(){return{servers:[],expands:[],get_row_keys:function(e){return e.id}}},created:function(){var e=this;e.get_server_status(),setInterval(function(){e.get_server_status()},1e3)},methods:{bytes_to_size:function(e,t,n){var r;n=void 0!==n?n:0;var o=1024,s=1048576,a=1073741824,u=1099511627776;return 0!==n&&(o=1e3,s=1e6,a=1e9,u=1e12),e>=0&&e<o?r=e+"B":e>=o&&e<s?r=(e/o).toFixed(e/o>100?1:t)+"K":e>=s&&e<a?r=(e/s).toFixed(e/s>100?1:t)+"M":e>=a&&e<u?r=(e/a).toFixed(e/a>100?1:t)+"G":e>=u&&(r=(e/u).toFixed(e/u>100?1:t)+"T"),r},get_server_status:function(){var e=this;fetch("/json/stats.json").then(function(e){return e.json()}).then(function(t){var n=[];t.servers.forEach(function(t){if(t.online4||t.online6)var r={ipv4:t.online4,ipv6:t.online6,name:t.name,type:t.type,location:t.location,uptime:t.uptime,load:void 0!==t.load?t.load.toFixed(2):void 0,network_rx:e.bytes_to_size(t.network_rx,2,1),network_tx:e.bytes_to_size(t.network_tx,2,1),network_in:e.bytes_to_size(t.network_in,2),network_out:e.bytes_to_size(t.network_out,2),cpu:t.cpu,memory:Math.round(t.memory_used/t.memory_total*100),memory_used:e.bytes_to_size(t.memory_used,2),memory_total:e.bytes_to_size(t.memory_total,2),hdd:Math.round(t.hdd_used/t.hdd_total*100),hdd_used:e.bytes_to_size(t.hdd_used,2),hdd_total:e.bytes_to_size(t.hdd_total)};else var r={ipv4:t.online4,ipv6:t.online6,name:t.name,type:t.type,location:t.location,uptime:"-",load:"-",network_rx:void 0,network_tx:void 0,network_in:void 0,network_out:void 0,cpu:100,memory:100,memory_used:0,memory_total:0,hdd:100,hdd_used:0,hdd_total:0};n.push(r)}),e.servers=n}).catch(function(e){console.log(e)})},toggle_row_expansion:function(e){console.log(e.id),this.expands.push(e.id)}},computed:{}}},271:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(151),o=function(e){return e&&e.__esModule?e:{default:e}}(r),s=n(272);t.default={data:function(){return{logining:!1,ruleForm2:{account:"admin",checkPass:"123456"},rules2:{account:[{required:!0,message:"请输入账号",trigger:"blur"}],checkPass:[{required:!0,message:"请输入密码",trigger:"blur"}]},checked:!0}},methods:{handleReset2:function(){this.$refs.ruleForm2.resetFields()},handleSubmit2:function(e){var t=this;this.$refs.ruleForm2.validate(function(e){if(!e)return console.log("error submit!!"),!1;t.logining=!0;var n={username:t.ruleForm2.account,password:t.ruleForm2.checkPass};(0,s.requestLogin)(n).then(function(e){t.logining=!1;var n=e.msg,r=e.code,s=e.user;200!==r?t.$message({message:n,type:"error"}):(sessionStorage.setItem("user",(0,o.default)(s)),t.$router.push({path:"/index"}))})})}}}},272:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addUser=t.editUser=t.batchRemoveUser=t.removeUser=t.getUserListPage=t.getUserList=t.requestLogin=void 0;var r=n(96),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.requestLogin=function(e){return o.default.post("/login",e).then(function(e){return e.data})},t.getUserList=function(e){return o.default.get("/user/list",{params:e})},t.getUserListPage=function(e){return o.default.get("/user/listpage",{params:e})},t.removeUser=function(e){return o.default.get("/user/remove",{params:e})},t.batchRemoveUser=function(e){return o.default.get("/user/batchremove",{params:e})},t.editUser=function(e){return o.default.get("/user/edit",{params:e})},t.addUser=function(e){return o.default.get("/user/add",{params:e})}},273:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=n(219),s=(r(o),n(18)),a=r(s),u=n(223),i=r(u),l=n(220),c=r(l);n(221);var d=n(224),f=r(d),p=n(218),m=r(p),_=n(144),v=r(_),h=n(217),g=r(h),w=n(216),y=r(w);n(222),y.default.bootstrap(),a.default.use(c.default),a.default.use(f.default),a.default.use(v.default);var b=new f.default({routes:g.default});new a.default({router:b,store:m.default,render:function(e){return e(i.default)}}).$mount("#app")},274:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Users=t.LoginUsers=void 0;for(var r=n(546),o=function(e){return e&&e.__esModule?e:{default:e}}(r),s=[{id:1,username:"admin",password:"123456",avatar:"/static/logo.png",name:"Admin"}],a=[],u=0;u<86;u++)a.push(o.default.mock({id:o.default.Random.guid(),name:o.default.Random.cname(),addr:o.default.mock("@county(true)"),"age|18-60":1,birth:o.default.Random.date(),sex:o.default.Random.integer(0,1)}));t.LoginUsers=s,t.Users=a},275:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(151),s=r(o),a=n(280),u=r(a),i=n(96),l=r(i),c=n(248),d=r(c),f=n(274),p=f.Users;t.default={bootstrap:function(){var e=new d.default(l.default);e.onGet("/success").reply(200,{msg:"success"}),e.onGet("/error").reply(500,{msg:"failure"}),e.onPost("/login").reply(function(e){var t=JSON.parse(e.data),n=t.username,r=t.password;return new u.default(function(e,t){var o=null;setTimeout(function(){var t=f.LoginUsers.some(function(e){if(e.username===n&&e.password===r)return o=JSON.parse((0,s.default)(e)),o.password=void 0,!0});e(t?[200,{code:200,msg:"请求成功",user:o}]:[200,{code:500,msg:"账号或密码错误"}])},1e3)})}),e.onGet("/user/list").reply(function(e){var t=e.params.name,n=p.filter(function(e){return!t||-1!=e.name.indexOf(t)});return new u.default(function(e,t){setTimeout(function(){e([200,{users:n}])},1e3)})}),e.onGet("/user/listpage").reply(function(e){var t=e.params,n=t.page,r=t.name,o=p.filter(function(e){return!r||-1!=e.name.indexOf(r)}),s=o.length;return o=o.filter(function(e,t){return t<20*n&&t>=20*(n-1)}),new u.default(function(e,t){setTimeout(function(){e([200,{total:s,users:o}])},1e3)})}),e.onGet("/user/remove").reply(function(e){var t=e.params.id;return p=p.filter(function(e){return e.id!==t}),new u.default(function(e,t){setTimeout(function(){e([200,{code:200,msg:"删除成功"}])},500)})}),e.onGet("/user/batchremove").reply(function(e){var t=e.params.ids;return t=t.split(","),p=p.filter(function(e){return!t.includes(e.id)}),new u.default(function(e,t){setTimeout(function(){e([200,{code:200,msg:"删除成功"}])},500)})}),e.onGet("/user/edit").reply(function(e){var t=e.params,n=t.id,r=t.name,o=t.addr,s=t.age,a=t.birth,i=t.sex;return p.some(function(e){if(e.id===n)return e.name=r,e.addr=o,e.age=s,e.birth=a,e.sex=i,!0}),new u.default(function(e,t){setTimeout(function(){e([200,{code:200,msg:"编辑成功"}])},500)})}),e.onGet("/user/add").reply(function(e){var t=e.params,n=t.name,r=t.addr,o=t.age,s=t.birth,a=t.sex;return p.push({name:n,addr:r,age:o,birth:s,sex:a}),new u.default(function(e,t){setTimeout(function(){e([200,{code:200,msg:"新增成功"}])},500)})})}}},276:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.increment=function(e){(0,e.commit)("INCREMENT")},t.decrement=function(e){(0,e.commit)("DECREMENT")}},277:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getCount=function(e){return e.count}},542:function(e,t){},543:function(e,t){},544:function(e,t){},545:function(e,t){},555:function(e,t,n){n(545);var r=n(72)(null,n(562),"data-v-552f9c87",null);e.exports=r.exports},556:function(e,t,n){n(544);var r=n(72)(n(269),n(561),"data-v-51a2c380",null);e.exports=r.exports},557:function(e,t,n){var r=n(72)(n(270),n(563),null,null);e.exports=r.exports},558:function(e,t,n){n(543);var r=n(72)(n(271),n(560),"data-v-2c8a1058",null);e.exports=r.exports},559:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view")],1)],1)},staticRenderFns:[]}},560:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm login-container",attrs:{model:e.ruleForm2,rules:e.rules2,"label-position":"left","label-width":"0px"}},[n("h3",{staticClass:"title"},[e._v("系统登录")]),e._v(" "),n("el-form-item",{attrs:{prop:"account"}},[n("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"账号"},model:{value:e.ruleForm2.account,callback:function(t){e.$set(e.ruleForm2,"account",t)},expression:"ruleForm2.account"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"checkPass"}},[n("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},model:{value:e.ruleForm2.checkPass,callback:function(t){e.$set(e.ruleForm2,"checkPass",t)},expression:"ruleForm2.checkPass"}})],1),e._v(" "),n("el-checkbox",{staticClass:"remember",attrs:{checked:""},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("记住密码")]),e._v(" "),n("el-form-item",{staticStyle:{width:"100%"}},[n("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:e.logining},nativeOn:{click:function(t){return t.preventDefault(),e.handleSubmit2(t)}}},[e._v("登录")])],1)],1)},staticRenderFns:[]}},561:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",{staticClass:"container"},[n("el-col",{staticClass:"header",attrs:{span:24}},[n("el-col",{staticClass:"logo",class:e.collapsed?"logo-collapse-width":"logo-width",attrs:{span:10}},[e._v("\n\t\t\t"+e._s(e.collapsed?"":e.sysName)+"\n\t\t")])],1),e._v(" "),n("el-col",{staticClass:"main",attrs:{span:24}},[n("section",{staticClass:"content-container"},[n("div",{staticClass:"grid-content bg-purple-light"},[n("el-col",{staticClass:"content-wrapper",attrs:{span:20,offset:2}},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view")],1)],1)],1)])])],1)},staticRenderFns:[]}},562:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("p",{staticClass:"page-container"},[e._v("404 page not found")])},staticRenderFns:[]}},563:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.servers}},[n("el-table-column",{attrs:{label:"IPv4",align:"center","min-width":"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.ipv4?n("el-tag",{attrs:{type:"success"}},[e._v("On")]):n("el-tag",{attrs:{type:"danger"}},[e._v("Off")])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"IPv6",align:"center","min-width":"70px"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.ipv6?n("el-tag",{attrs:{type:"success"}},[e._v("On")]):n("el-tag",{attrs:{type:"danger"}},[e._v("Off")])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"节点名",prop:"name",align:"center","min-width":"110px"}}),e._v(" "),n("el-table-column",{attrs:{label:"虚拟化",prop:"type",align:"center","min-width":"110px"}}),e._v(" "),n("el-table-column",{attrs:{label:"位置",prop:"location",align:"center","min-width":"120px"}}),e._v(" "),n("el-table-column",{attrs:{label:"在线时间",prop:"uptime",align:"center","min-width":"100px"}}),e._v(" "),n("el-table-column",{attrs:{label:"负载",prop:"load",align:"center","min-width":"100px"}}),e._v(" "),n("el-table-column",{attrs:{label:"网络↓|↑",align:"center","min-width":"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.network_rx)+" | "+e._s(t.row.network_tx)+"\n    ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"流量↓|↑",align:"center","min-width":"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.network_in)+" | "+e._s(t.row.network_out)+"\n    ")]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"处理器",align:"center","min-width":"150px"},scopedSlots:e._u([{key:"default",fn:function(e){return[e.row.cpu>=80?n("el-progress",{attrs:{status:"exception","text-inside":!0,"stroke-width":18,percentage:e.row.cpu}}):e.row.cpu>=50?n("el-progress",{attrs:{color:"#FFA500","text-inside":!0,"stroke-width":18,percentage:e.row.cpu}}):n("el-progress",{attrs:{status:"success","text-inside":!0,"stroke-width":18,percentage:e.row.cpu}})]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"内存",align:"center","min-width":"150px"},scopedSlots:e._u([{key:"default",fn:function(e){return[e.row.memory>=80?n("el-progress",{attrs:{status:"exception","text-inside":!0,"stroke-width":18,percentage:e.row.memory}}):e.row.memory>=50?n("el-progress",{attrs:{color:"#FFA500","text-inside":!0,"stroke-width":18,percentage:e.row.memory}}):n("el-progress",{attrs:{status:"success","text-inside":!0,"stroke-width":18,percentage:e.row.memory}})]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"硬盘",align:"center","min-width":"150px"},scopedSlots:e._u([{key:"default",fn:function(e){return[e.row.hdd>=80?n("el-progress",{attrs:{status:"exception","text-inside":!0,"stroke-width":18,percentage:e.row.hdd}}):e.row.hdd>=50?n("el-progress",{attrs:{color:"#FFA500","text-inside":!0,"stroke-width":18,percentage:e.row.hdd}}):n("el-progress",{attrs:{status:"success","text-inside":!0,"stroke-width":18,percentage:e.row.hdd}})]}}])})],1)},staticRenderFns:[]}}},[273]);
//# sourceMappingURL=app.8a8bd090720faabfe647.js.map